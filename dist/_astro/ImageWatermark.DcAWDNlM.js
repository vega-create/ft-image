import{j as e}from"./jsx-runtime.ClP7wGfN.js";import{r as l}from"./index.DK-fsZOb.js";function C(){const[s,g]=l.useState(null),[u,h]=l.useState(null),[c,f]=l.useState("Â© My Photo"),[i,b]=l.useState(24),[d,y]=l.useState(.5),[n,j]=l.useState("bottom-right"),p=l.useRef(null),w=t=>{const a=t.target.files?.[0];if(!a)return;h(a);const r=new Image;r.onload=()=>g(r),r.src=URL.createObjectURL(a)},v=()=>{if(!s)return;const t=document.createElement("canvas");t.width=s.width,t.height=s.height;const a=t.getContext("2d");a.drawImage(s,0,0),a.font=`${i}px Arial`,a.fillStyle=`rgba(255,255,255,${d})`;const r=a.measureText(c).width;let o=20,m=s.height-20;n.includes("right")&&(o=s.width-r-20),n.includes("center")&&(o=(s.width-r)/2),n.includes("top")&&(m=i+20),n==="center"&&(o=(s.width-r)/2,m=s.height/2),a.fillText(c,o,m);const x=document.createElement("a");x.download="watermarked.png",x.href=t.toDataURL("image/png"),x.click()},N=[["top-left","â†–"],["top-right","â†—"],["center","âŠ•"],["bottom-left","â†™"],["bottom-right","â†˜"]];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-2xl p-8 text-center hover:border-purple-300 cursor-pointer",onClick:()=>p.current?.click(),children:[e.jsx("input",{ref:p,type:"file",accept:"image/*",onChange:w,className:"hidden"}),e.jsx("div",{className:"text-4xl mb-2",children:"ðŸ’§"}),e.jsx("p",{className:"text-gray-600 font-medium",children:u?u.name:"Click to upload an image"})]}),s&&e.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-4 space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Watermark Text"}),e.jsx("input",{type:"text",value:c,onChange:t=>f(t.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs text-gray-500",children:["Size: ",i,"px"]}),e.jsx("input",{type:"range",min:"12",max:"72",value:i,onChange:t=>b(+t.target.value),className:"w-full accent-purple-600"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs text-gray-500",children:["Opacity: ",Math.round(d*100),"%"]}),e.jsx("input",{type:"range",min:"10",max:"100",value:d*100,onChange:t=>y(+t.target.value/100),className:"w-full accent-purple-600"})]})]}),e.jsx("div",{className:"flex gap-2",children:N.map(([t,a])=>e.jsx("button",{onClick:()=>j(t),className:`flex-1 py-2 rounded-lg text-sm ${n===t?"bg-purple-600 text-white":"bg-gray-100 text-gray-600"}`,children:a},t))}),e.jsx("button",{onClick:v,className:"w-full py-3 bg-purple-600 text-white rounded-xl font-medium hover:bg-purple-700",children:"Add Watermark & Download"})]})]})}export{C as default};
