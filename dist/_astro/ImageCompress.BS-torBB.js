import{j as e}from"./jsx-runtime.ClP7wGfN.js";import{r as l}from"./index.DK-fsZOb.js";function j(){const[t,m]=l.useState(null),[i,x]=l.useState(80),[r,c]=l.useState(null),o=l.useRef(null),u=s=>{s.target.files?.[0]&&(m(s.target.files[0]),c(null))},p=()=>{if(!t)return;const s=new Image;s.onload=()=>{const a=document.createElement("canvas");a.width=s.width,a.height=s.height,a.getContext("2d").drawImage(s,0,0),a.toBlob(d=>{d&&c({size:d.size,url:URL.createObjectURL(d)})},"image/jpeg",i/100)},s.src=URL.createObjectURL(t)},n=s=>s<1024?s+" B":s<1048576?(s/1024).toFixed(1)+" KB":(s/1048576).toFixed(2)+" MB";return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-2xl p-8 text-center hover:border-purple-300 cursor-pointer",onClick:()=>o.current?.click(),children:[e.jsx("input",{ref:o,type:"file",accept:"image/*",onChange:u,className:"hidden"}),e.jsx("div",{className:"text-4xl mb-2",children:"ðŸ“¦"}),e.jsx("p",{className:"text-gray-600 font-medium",children:t?`${t.name} (${n(t.size)})`:"Click to upload an image"})]}),t&&e.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-4 space-y-3",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Quality: ",i,"%"]}),e.jsx("input",{type:"range",min:"10",max:"100",value:i,onChange:s=>x(+s.target.value),className:"w-full accent-purple-600"})]}),e.jsx("button",{onClick:p,className:"w-full py-3 bg-purple-600 text-white rounded-xl font-medium hover:bg-purple-700",children:"Compress"}),r&&e.jsxs("div",{className:"bg-green-50 rounded-xl p-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Original"}),e.jsx("div",{className:"font-bold",children:n(t.size)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Compressed"}),e.jsx("div",{className:"font-bold text-green-600",children:n(r.size)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Saved"}),e.jsxs("div",{className:"font-bold text-purple-600",children:[Math.round((1-r.size/t.size)*100),"%"]})]})]}),e.jsx("a",{href:r.url,download:"compressed.jpg",className:"block mt-3 text-center py-2 bg-green-600 text-white rounded-lg text-sm font-medium",children:"Download"})]})]})]})}export{j as default};
