import{j as s}from"./jsx-runtime.ClP7wGfN.js";import{r as c}from"./index.DK-fsZOb.js";function $(){const[r,u]=c.useState(null),[i,g]=c.useState(null),[t,o]=c.useState({brightness:100,contrast:100,saturate:100,blur:0,grayscale:0,sepia:0,hueRotate:0}),l=c.useRef(null),d=c.useRef(null),h=e=>{const a=e.target.files?.[0];if(!a)return;g(a);const n=new Image;n.onload=()=>u(n),n.src=URL.createObjectURL(a)};c.useEffect(()=>{if(!r||!l.current)return;const e=l.current;e.width=Math.min(r.width,600),e.height=e.width*r.height/r.width;const a=e.getContext("2d");a.filter=`brightness(${t.brightness}%) contrast(${t.contrast}%) saturate(${t.saturate}%) blur(${t.blur}px) grayscale(${t.grayscale}%) sepia(${t.sepia}%) hue-rotate(${t.hueRotate}deg)`,a.drawImage(r,0,0,e.width,e.height)},[r,t]);const x=()=>{if(!r)return;const e=document.createElement("canvas");e.width=r.width,e.height=r.height;const a=e.getContext("2d");a.filter=`brightness(${t.brightness}%) contrast(${t.contrast}%) saturate(${t.saturate}%) blur(${t.blur}px) grayscale(${t.grayscale}%) sepia(${t.sepia}%) hue-rotate(${t.hueRotate}deg)`,a.drawImage(r,0,0);const n=document.createElement("a");n.download="filtered.png",n.href=e.toDataURL("image/png"),n.click()},m=()=>o({brightness:100,contrast:100,saturate:100,blur:0,grayscale:0,sepia:0,hueRotate:0}),p=(e,a)=>o(n=>({...n,[e]:a})),f=[["brightness","Brightness",0,200,100,"%"],["contrast","Contrast",0,200,100,"%"],["saturate","Saturation",0,200,100,"%"],["blur","Blur",0,10,0,"px"],["grayscale","Grayscale",0,100,0,"%"],["sepia","Sepia",0,100,0,"%"],["hueRotate","Hue Rotate",0,360,0,"Â°"]];return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-2xl p-8 text-center hover:border-purple-300 cursor-pointer",onClick:()=>d.current?.click(),children:[s.jsx("input",{ref:d,type:"file",accept:"image/*",onChange:h,className:"hidden"}),s.jsx("div",{className:"text-4xl mb-2",children:"ðŸŽ­"}),s.jsx("p",{className:"text-gray-600 font-medium",children:i?i.name:"Click to upload an image"})]}),r&&s.jsxs(s.Fragment,{children:[s.jsx("canvas",{ref:l,className:"w-full rounded-xl"}),s.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-4 space-y-2",children:[f.map(([e,a,n,b,w,y])=>s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"w-24 text-xs text-gray-600",children:a}),s.jsx("input",{type:"range",min:n,max:b,value:t[e],onChange:j=>p(e,+j.target.value),className:"flex-1 accent-purple-600"}),s.jsxs("span",{className:"w-14 text-xs text-gray-500 text-right",children:[t[e],y]})]},e)),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsx("button",{onClick:m,className:"flex-1 py-2 bg-gray-100 text-gray-600 rounded-lg text-sm",children:"Reset"}),s.jsx("button",{onClick:x,className:"flex-1 py-2 bg-purple-600 text-white rounded-lg text-sm font-medium",children:"Download"})]})]})]})]})}export{$ as default};
