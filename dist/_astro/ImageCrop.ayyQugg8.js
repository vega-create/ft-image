import{j as e}from"./jsx-runtime.ClP7wGfN.js";import{r as n}from"./index.DK-fsZOb.js";function N(){const[s,h]=n.useState(null),[i,b]=n.useState(null),[p,u]=n.useState(0),[x,m]=n.useState(0),[l,d]=n.useState(100),[o,c]=n.useState(100),g=n.useRef(null),y=t=>{const r=t.target.files?.[0];if(!r)return;b(r);const a=new Image;a.onload=()=>{h(a),d(a.width),c(a.height)},a.src=URL.createObjectURL(r)},j=t=>{if(!s)return;const r=s.width,a=Math.round(r/t);u(0),m(Math.max(0,Math.round((s.height-a)/2))),d(r),c(Math.min(a,s.height))},f=()=>{if(!s)return;const t=document.createElement("canvas");t.width=l,t.height=o,t.getContext("2d").drawImage(s,p,x,l,o,0,0,l,o);const r=document.createElement("a");r.download="cropped.png",r.href=t.toDataURL("image/png"),r.click()};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-2xl p-8 text-center hover:border-purple-300 cursor-pointer",onClick:()=>g.current?.click(),children:[e.jsx("input",{ref:g,type:"file",accept:"image/*",onChange:y,className:"hidden"}),e.jsx("div",{className:"text-4xl mb-2",children:"✂️"}),e.jsx("p",{className:"text-gray-600 font-medium",children:i?i.name:"Click to upload an image"})]}),s&&e.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-4 space-y-3",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:[["1:1",1],["4:3",4/3],["16:9",16/9],["3:2",3/2],["2:3",2/3]].map(([t,r])=>e.jsx("button",{onClick:()=>j(r),className:"px-3 py-1.5 bg-gray-100 rounded-lg text-sm text-gray-600 hover:bg-purple-100",children:t},t))}),e.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:"X"}),e.jsx("input",{type:"number",value:p,onChange:t=>u(+t.target.value),className:"w-full px-2 py-1 border border-gray-200 rounded text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:"Y"}),e.jsx("input",{type:"number",value:x,onChange:t=>m(+t.target.value),className:"w-full px-2 py-1 border border-gray-200 rounded text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:"Width"}),e.jsx("input",{type:"number",value:l,onChange:t=>d(+t.target.value),className:"w-full px-2 py-1 border border-gray-200 rounded text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:"Height"}),e.jsx("input",{type:"number",value:o,onChange:t=>c(+t.target.value),className:"w-full px-2 py-1 border border-gray-200 rounded text-sm"})]})]}),e.jsx("button",{onClick:f,className:"w-full py-3 bg-purple-600 text-white rounded-xl font-medium hover:bg-purple-700",children:"Crop & Download"})]})]})}export{N as default};
