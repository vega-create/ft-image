import{j as t}from"./jsx-runtime.ClP7wGfN.js";import{r as s}from"./index.DK-fsZOb.js";function R(){const[i,h]=s.useState(null),[x,b]=s.useState(null),[n,u]=s.useState(0),[c,g]=s.useState(0),[o,f]=s.useState(!0),[l,y]=s.useState(0),[d,j]=s.useState(0),m=s.useRef(null),N=e=>{const a=e.target.files?.[0];if(!a)return;b(a);const r=new Image;r.onload=()=>{h(r),u(r.width),g(r.height),y(r.width),j(r.height)},r.src=URL.createObjectURL(a)},p=e=>{u(e),o&&l&&g(Math.round(e*d/l))},v=e=>{g(e),o&&d&&u(Math.round(e*l/d))},w=()=>{if(!i)return;const e=document.createElement("canvas");e.width=n,e.height=c,e.getContext("2d").drawImage(i,0,0,n,c);const a=document.createElement("a");a.download=`resized-${n}x${c}.png`,a.href=e.toDataURL("image/png"),a.click()};return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-2xl p-8 text-center hover:border-purple-300 cursor-pointer",onClick:()=>m.current?.click(),children:[t.jsx("input",{ref:m,type:"file",accept:"image/*",onChange:N,className:"hidden"}),t.jsx("div",{className:"text-4xl mb-2",children:"ðŸ“"}),t.jsx("p",{className:"text-gray-600 font-medium",children:x?x.name:"Click to upload an image"}),l>0&&t.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Original: ",l," Ã— ",d]})]}),i&&t.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-4 space-y-3",children:[t.jsxs("div",{className:"flex gap-3 items-end",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Width"}),t.jsx("input",{type:"number",value:n,onChange:e=>p(+e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg"})]}),t.jsx("button",{onClick:()=>f(!o),className:`px-3 py-2 rounded-lg text-sm ${o?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-500"}`,children:o?"ðŸ”—":"ðŸ”“"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Height"}),t.jsx("input",{type:"number",value:c,onChange:e=>v(+e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg"})]})]}),t.jsx("div",{className:"flex gap-2",children:[25,50,75,100,150,200].map(e=>t.jsxs("button",{onClick:()=>{p(Math.round(l*e/100))},className:"px-2 py-1 bg-gray-100 rounded text-xs text-gray-600 hover:bg-gray-200",children:[e,"%"]},e))}),t.jsxs("button",{onClick:w,className:"w-full py-3 bg-purple-600 text-white rounded-xl font-medium hover:bg-purple-700",children:["Download ",n," Ã— ",c]})]})]})}export{R as default};
