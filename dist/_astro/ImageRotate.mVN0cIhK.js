import{j as e}from"./jsx-runtime.ClP7wGfN.js";import{r}from"./index.DK-fsZOb.js";function k(){const[s,f]=r.useState(null),[u,b]=r.useState(null),[l,x]=r.useState(0),[c,j]=r.useState(!1),[o,y]=r.useState(!1),g=r.useRef(null),w=t=>{const a=t.target.files?.[0];if(!a)return;b(a);const n=new Image;n.onload=()=>f(n),n.src=URL.createObjectURL(a)},N=()=>{if(!s)return;const t=l*Math.PI/180,a=Math.abs(Math.sin(t)),n=Math.abs(Math.cos(t)),p=Math.round(s.width*n+s.height*a),h=Math.round(s.width*a+s.height*n),i=document.createElement("canvas");i.width=p,i.height=h;const d=i.getContext("2d");d.translate(p/2,h/2),d.rotate(t),d.scale(c?-1:1,o?-1:1),d.drawImage(s,-s.width/2,-s.height/2);const m=document.createElement("a");m.download="rotated.png",m.href=i.toDataURL("image/png"),m.click()};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-2xl p-8 text-center hover:border-purple-300 cursor-pointer",onClick:()=>g.current?.click(),children:[e.jsx("input",{ref:g,type:"file",accept:"image/*",onChange:w,className:"hidden"}),e.jsx("div",{className:"text-4xl mb-2",children:"ðŸ”„"}),e.jsx("p",{className:"text-gray-600 font-medium",children:u?u.name:"Click to upload an image"})]}),s&&e.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-4 space-y-3",children:[e.jsx("div",{className:"text-center",children:e.jsx("img",{src:s.src,alt:"",className:"max-h-48 mx-auto rounded-lg",style:{transform:`rotate(${l}deg) scaleX(${c?-1:1}) scaleY(${o?-1:1})`,transition:"transform 0.3s"}})}),e.jsx("div",{className:"flex gap-2 justify-center",children:[90,180,270].map(t=>e.jsxs("button",{onClick:()=>x(t),className:`px-4 py-2 rounded-lg text-sm font-medium ${l===t?"bg-purple-600 text-white":"bg-gray-100 text-gray-600"}`,children:[t,"Â°"]},t))}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs text-gray-500",children:["Custom: ",l,"Â°"]}),e.jsx("input",{type:"range",min:"0",max:"359",value:l,onChange:t=>x(+t.target.value),className:"w-full accent-purple-600"})]}),e.jsxs("div",{className:"flex gap-2 justify-center",children:[e.jsx("button",{onClick:()=>j(!c),className:`px-4 py-2 rounded-lg text-sm ${c?"bg-purple-600 text-white":"bg-gray-100 text-gray-600"}`,children:"â†” Flip H"}),e.jsx("button",{onClick:()=>y(!o),className:`px-4 py-2 rounded-lg text-sm ${o?"bg-purple-600 text-white":"bg-gray-100 text-gray-600"}`,children:"â†• Flip V"})]}),e.jsx("button",{onClick:N,className:"w-full py-3 bg-purple-600 text-white rounded-xl font-medium hover:bg-purple-700",children:"Download"})]})]})}export{k as default};
